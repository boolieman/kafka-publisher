send conn true 1
produce error 1 { Error: Broker: Message size too large
    at Function.createLibrdkafkaError [as create] (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/error.js:261:10)
    at Producer.Client._errorWrap (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/client.js:470:29)
    at Producer.produce (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/producer.js:138:15)
    at KafkaPublisher.queueInternal (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:245:41)
    at KafkaPublisher.queue (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:187:17)
    at _promise2.default.resolve (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:137:8)
    at new Promise (<anonymous>)
    at new F (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/core-js/library/modules/_export.js:36:28)
    at send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:136:10)
    at _send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:125:21)
    at Test.fn (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:57:5)
  message: 'Broker: Message size too large',
  code: 10,
  errno: 10,
  origin: 'local' }
timeout 1

========================================================================================================================================

send conn true 1
produce error 1 TypeError: "topic" must be a string
    at Producer.produce (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/producer.js:131:11)
    at KafkaPublisher.queueInternal (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:254:41)
    at KafkaPublisher.queue (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:187:17)
    at _promise2.default.resolve (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:137:8)
    at new Promise (<anonymous>)
    at new F (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/core-js/library/modules/_export.js:36:28)
    at send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:136:10)
    at _send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:124:21)
    at Test.fn (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:57:5)

========================================================================================================================================

produce error 184 {"message":"Local: Erroneous state","code":-172,"errno":-172,"origin":"kafka"}

========================================================================================================================================

...
send conn true 1402
cb null 1402
send conn true 1403
Mon, 04 Feb 2019 04:32:49 GMT kafka-publisher:error event.error {"origin":"local","message":"broker transport failure","code":-1,"errno":-1,"stack":"Error: Local: Broker transport failure"}
Mon, 04 Feb 2019 04:32:49 GMT kafka-publisher:error event.error {"origin":"local","message":"broker transport failure","code":-1,"errno":-1,"stack":"Error: Local: Broker transport failure"}
Mon, 04 Feb 2019 04:32:49 GMT kafka-publisher:error event.error {"origin":"local","message":"all broker connections are down","code":-1,"errno":-1,"stack":"Error: Local: All broker connections are down"}
cb null 1403
send conn true 1404
Mon, 04 Feb 2019 04:32:49 GMT kafka-publisher:error event.error {"origin":"local","message":"broker transport failure","code":-1,"errno":-1,"stack":"Error: Local: Broker transport failure"}
Mon, 04 Feb 2019 04:32:49 GMT kafka-publisher:error event.error {"origin":"local","message":"broker transport failure","code":-1,"errno":-1,"stack":"Error: Local: Broker transport failure"}
timeout 1404
send conn true 1405
produce error 1405 {"message":"Local: Unknown topic","code":-188,"errno":-188,"origin":"kafka"}
timeout 1405
send conn true 1406
cb null 1406
send conn true 1407
cb null 1407
...

========================================================================================================================================

Sun, 03 Feb 2019 20:51:58 GMT kafka-publisher:warn connectionString deprecated, switch to options.producer['metadata.broker.list']
{ 'message.timeout.ms': 10000,
  dr_cb: true,
  event_cb: true,
  'metadata.broker.list': '127.0.0.12:9092' }
Sun, 03 Feb 2019 20:51:58 GMT kafka-publisher:info KafkaPublisher 0e84aefc-ea98-4219-b2e6-ea77f7a55073 options {"connectionString":"127.0.0.12:9092","defaultTopic":"test-topic","producer":{"message.timeout.ms":10000,"dr_cb":true,"event_cb":true,"metadata.broker.list":"127.0.0.12:9092"},"fallback":{"id":"0e84aefc-ea98-4219-b2e6-ea77f7a55073"}}
ready { name: 'rdkafka#producer-1' } { orig_broker_id: -1,
  orig_broker_name: '127.0.0.12:9092/bootstrap',
  topics:
   [ { name: '__consumer_offsets', partitions: [Array] },
     { name: 'test-topic', partitions: [Array] } ],
  brokers: [ { id: 0, host: 'asus-troy', port: 9092 } ] }
send conn true 1
cb null 1
send conn true 2
cb null 2
send conn true 3
...
send conn true 54
cb null 54
send conn true 55
event.error { [Error: Local: Broker transport failure]
  origin: 'local',
  message: 'broker transport failure',
  code: -1,
  errno: -1,
  stack: 'Error: Local: Broker transport failure' }
event.error { [Error: Local: Broker transport failure]
  origin: 'local',
  message: 'broker transport failure',
  code: -1,
  errno: -1,
  stack: 'Error: Local: Broker transport failure' }
event.error { [Error: Local: All broker connections are down]
  origin: 'local',
  message: 'all broker connections are down',
  code: -1,
  errno: -1,
  stack: 'Error: Local: All broker connections are down' }
event.error { [Error: Local: Broker transport failure]
  origin: 'local',
  message: 'broker transport failure',
  code: -1,
  errno: -1,
  stack: 'Error: Local: Broker transport failure' }
event.error { [Error: Local: Broker transport failure]
  origin: 'local',
  message: 'broker transport failure',
  code: -1,
  errno: -1,
  stack: 'Error: Local: Broker transport failure' }
cb null 55
send conn true 56
disconnect
disconnected_ { connectionOpened: 1549227118659 } undefined
timeout 56
send conn false 57
produce error 57 Error: Producer not connected
    at Producer.produce (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/producer.js:125:11)
    at KafkaPublisher.queueInternal (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:246:41)
    at KafkaPublisher.queue (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:188:17)
    at _promise2.default.resolve (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:125:8)
    at new Promise (<anonymous>)
    at new F (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/core-js/library/modules/_export.js:36:28)
    at send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:124:10)
    at _send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:113:21)
    at Test.fn (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:57:5)
poll Error: Producer not connected
    at Producer.poll (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/producer.js:170:11)
    at KafkaPublisher.poll (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:169:24)
    at poll (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:132:8)
    at _send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:114:3)
timeout 57
send conn false 58
produce error 58 Error: Producer not connected
    at Producer.produce (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/producer.js:125:11)
    at KafkaPublisher.queueInternal (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:246:41)
    at KafkaPublisher.queue (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:188:17)
    at _promise2.default.resolve (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:125:8)
    at new Promise (<anonymous>)
    at new F (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/core-js/library/modules/_export.js:36:28)
    at send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:124:10)
    at _send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:113:21)
    at Test.fn (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:57:5)
poll Error: Producer not connected
    at Producer.poll (/home/troy/development/node/kafka-publisher-lbrdkafka/node_modules/node-rdkafka/lib/producer.js:170:11)
    at KafkaPublisher.poll (/home/troy/development/node/kafka-publisher-lbrdkafka/lib/kafka-publisher2.js:169:24)
    at poll (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:132:8)
    at _send (/home/troy/development/node/kafka-publisher-lbrdkafka/__integ-tests__/kafka-publisher-integ-tests.js:114:3)

========================================================================================================================================

Sun, 03 Feb 2019 21:21:36 GMT kafka-publisher:warn connectionString deprecated, switch to options.producer['metadata.broker.list']
{ 'message.timeout.ms': 10000,
  dr_cb: true,
  event_cb: true,
  'metadata.broker.list': '127.0.0.12:9092' }
Sun, 03 Feb 2019 21:21:36 GMT kafka-publisher:info KafkaPublisher a5c3e623-ee26-4281-b305-c5440d9f196f options {"connectionString":"127.0.0.12:9092","defaultTopic":"test-topic","producer":{"message.timeout.ms":10000,"dr_cb":true,"event_cb":true,"metadata.broker.list":"127.0.0.12:9092"},"fallback":{"id":"a5c3e623-ee26-4281-b305-c5440d9f196f"}}
send conn true 1
event.error { [Error: Local: Broker transport failure]
  origin: 'local',
  message: 'broker transport failure',
  code: -1,
  errno: -1,
  stack: 'Error: Local: Broker transport failure' }
event.error { [Error: Local: All broker connections are down]
  origin: 'local',
  message: 'all broker connections are down',
  code: -1,
  errno: -1,
  stack: 'Error: Local: All broker connections are down' }
timeout 1
send conn true 2
ready { name: 'rdkafka#producer-1' } { orig_broker_id: -1,
  orig_broker_name: '127.0.0.12:9092/bootstrap',
  topics: [],
  brokers: [ { id: 0, host: 'asus-troy', port: 9092 } ] }
deliveryReport { [Error: Broker: Unknown topic or partition]
  origin: 'broker',
  message: 'unknown topic or partition',
  code: -1,
  errno: -1,
  stack: 'Error: Broker: Unknown topic or partition' } 1 1
deliveryReport { [Error: Broker: Unknown topic or partition]
  origin: 'broker',
  message: 'unknown topic or partition',
  code: -1,
  errno: -1,
  stack: 'Error: Broker: Unknown topic or partition' } 2 1
cb { [Error: Broker: Unknown topic or partition]
  origin: 'broker',
  message: 'unknown topic or partition',
  code: -1,
  errno: -1,
  stack: 'Error: Broker: Unknown topic or partition' } 2
